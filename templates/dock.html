<!-- Dock Component -->
<div id="dockContainer" class="dock-container">
    <div class="dock-header">
        <h5>Synapse Chamber</h5>
        <button id="dockCollapseBtn" class="btn btn-sm btn-outline-secondary">
            <i class="fas fa-chevron-left"></i>
        </button>
    </div>
    
    <!-- Dock Tabs -->
    <div class="dock-tabs">
        <ul class="nav nav-tabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="files-tab" data-bs-toggle="tab" data-bs-target="#files" type="button" role="tab">
                    <i class="fas fa-folder"></i> Files
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="tools-tab" data-bs-toggle="tab" data-bs-target="#tools" type="button" role="tab">
                    <i class="fas fa-tools"></i> Tools
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="agent-tab" data-bs-toggle="tab" data-bs-target="#agent" type="button" role="tab">
                    <i class="fas fa-robot"></i> Agent
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="memory-tab" data-bs-toggle="tab" data-bs-target="#memory" type="button" role="tab">
                    <i class="fas fa-brain"></i> Memory
                </button>
            </li>
        </ul>
    </div>
    
    <!-- Tab Content -->
    <div class="tab-content">
        <!-- Files Tab -->
        <div class="tab-pane fade show active" id="files" role="tabpanel">
            <div class="dock-search mt-3 mb-2">
                <div class="input-group">
                    <input type="text" id="fileSearchInput" class="form-control form-control-sm" placeholder="Search files...">
                    <button class="btn btn-sm btn-outline-secondary" id="fileSearchBtn">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
            </div>
            <div class="d-flex justify-content-between mb-2">
                <button id="newFileBtn" class="btn btn-sm btn-outline-primary">
                    <i class="fas fa-file-plus"></i> New File
                </button>
                <button id="newFolderBtn" class="btn btn-sm btn-outline-secondary">
                    <i class="fas fa-folder-plus"></i> New Folder
                </button>
            </div>
            <div class="file-browser">
                <div class="tree-view" id="fileTree">
                    <div class="loading-indicator">
                        <div class="spinner-border spinner-border-sm" role="status"></div>
                        <span>Loading files...</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Tools Tab -->
        <div class="tab-pane fade" id="tools" role="tabpanel">
            <div class="tools-list">
                <div class="tool-category">
                    <h6>Development</h6>
                    <div class="tool-item" data-tool="code-editor">
                        <i class="fas fa-code"></i> Code Editor
                    </div>
                    <div class="tool-item" data-tool="terminal">
                        <i class="fas fa-terminal"></i> Terminal
                    </div>
                    <div class="tool-item" data-tool="version-control">
                        <i class="fas fa-code-branch"></i> Version Control
                    </div>
                    <div class="tool-item" data-tool="debug">
                        <i class="fas fa-bug"></i> Debug
                    </div>
                </div>
                
                <div class="tool-category">
                    <h6>Training</h6>
                    <div class="tool-item" data-tool="training-session">
                        <i class="fas fa-graduation-cap"></i> Training Session
                    </div>
                    <div class="tool-item" data-tool="memory-explorer">
                        <i class="fas fa-brain"></i> Memory Explorer
                    </div>
                    <div class="tool-item" data-tool="platform-manager">
                        <i class="fas fa-project-diagram"></i> AI Platform Manager
                    </div>
                </div>
                
                <div class="tool-category">
                    <h6>Monitoring</h6>
                    <div class="tool-item" data-tool="analytics">
                        <i class="fas fa-chart-line"></i> Analytics
                    </div>
                    <div class="tool-item" data-tool="logs">
                        <i class="fas fa-list"></i> Logs
                    </div>
                    <div class="tool-item" data-tool="performance">
                        <i class="fas fa-tachometer-alt"></i> Performance
                    </div>
                </div>
                
                <div class="tool-category">
                    <h6>Timeline</h6>
                    <div class="tool-item" data-tool="timeline">
                        <i class="fas fa-history"></i> Time Capsule
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Agent Tab -->
        <div class="tab-pane fade" id="agent" role="tabpanel">
            <div class="mt-3">
                <h6>AutoDev Status</h6>
                <div class="agent-status">
                    <div class="d-flex justify-content-between mb-2">
                        <div>Status: <span id="agentStatusBadge" class="badge bg-success">Active</span></div>
                        <button id="pauseAgentBtn" class="btn btn-sm btn-warning">
                            <i class="fas fa-pause"></i> Pause
                        </button>
                    </div>
                    <div class="progress mb-2" style="height: 5px;">
                        <div id="agentProgressBar" class="progress-bar" style="width: 45%"></div>
                    </div>
                    <div class="small text-muted" id="agentStatusText">Working on current task...</div>
                </div>
                
                <div class="d-flex justify-content-between mt-3 mb-2">
                    <button id="newProjectBtn" class="btn btn-sm btn-primary">
                        <i class="fas fa-plus"></i> New Project
                    </button>
                    <button id="continueProjectBtn" class="btn btn-sm btn-outline-secondary">
                        <i class="fas fa-play"></i> Continue Project
                    </button>
                </div>
                
                <div class="agent-feedback">
                    <h6>Feedback Required</h6>
                    <div id="feedbackMessage" class="feedback-message">
                        No pending feedback requests.
                    </div>
                    <div id="feedbackActions" class="feedback-actions mt-2" style="display: none;">
                        <button id="acceptFeedbackBtn" class="btn btn-sm btn-success">
                            <i class="fas fa-check"></i> Accept
                        </button>
                        <button id="rejectFeedbackBtn" class="btn btn-sm btn-danger">
                            <i class="fas fa-times"></i> Reject
                        </button>
                        <button id="modifyFeedbackBtn" class="btn btn-sm btn-primary">
                            <i class="fas fa-edit"></i> Modify
                        </button>
                    </div>
                </div>
                
                <div class="agent-projects">
                    <h6>Recent Projects</h6>
                    <div class="list-group list-group-small" id="recentProjectsList">
                        <div class="list-group-item text-muted">No projects found</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Memory Tab -->
        <div class="tab-pane fade" id="memory" role="tabpanel">
            <div class="mt-3">
                <h6>Memory Stats</h6>
                <div class="card bg-dark mb-3">
                    <div class="card-body">
                        <div class="d-flex justify-content-between mb-2">
                            <div>Total Memories</div>
                            <div><span id="totalMemoriesCount">127</span></div>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <div>Memory Types</div>
                            <div>
                                <span class="badge bg-primary me-1">General</span>
                                <span class="badge bg-info me-1">Factual</span>
                                <span class="badge bg-warning">Procedural</span>
                            </div>
                        </div>
                        <div class="d-flex justify-content-between">
                            <div>Last Consolidation</div>
                            <div>2025-05-06 10:32:15</div>
                        </div>
                    </div>
                </div>
                
                <h6>Recent Memory Activities</h6>
                <div class="list-group list-group-small">
                    <div class="list-group-item">
                        <div class="d-flex justify-content-between">
                            <span>Memory added</span>
                            <small class="text-muted">10:45 AM</small>
                        </div>
                        <small class="text-truncate d-block">Added code snippet: Flask route for file management</small>
                    </div>
                    <div class="list-group-item">
                        <div class="d-flex justify-content-between">
                            <span>Memory linked</span>
                            <small class="text-muted">09:30 AM</small>
                        </div>
                        <small class="text-truncate d-block">Linked UI components with backend routes</small>
                    </div>
                    <div class="list-group-item">
                        <div class="d-flex justify-content-between">
                            <span>Memory consolidated</span>
                            <small class="text-muted">Yesterday</small>
                        </div>
                        <small class="text-truncate d-block">Extended knowledge area: Web Development</small>
                    </div>
                </div>
                
                <div class="d-flex justify-content-between mt-3">
                    <button class="btn btn-sm btn-outline-primary">
                        <i class="fas fa-search"></i> Search Memory
                    </button>
                    <button class="btn btn-sm btn-outline-secondary">
                        <i class="fas fa-sync"></i> Consolidate
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="dock-footer">
        <div class="dock-status">v1.0.0 - Synapse Chamber OS</div>
    </div>
</div>

<!-- Dock Toggle Button -->
<button id="dockToggleBtn" class="btn btn-sm btn-outline-secondary dock-toggle-btn" style="display: none;">
    <i class="fas fa-columns"></i>
</button>

<!-- Modals -->
<!-- New File Modal -->
<div class="modal fade" id="newFileModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content bg-dark">
            <div class="modal-header">
                <h5 class="modal-title">Create New File</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label for="newFileName" class="form-label">File Name</label>
                    <input type="text" class="form-control" id="newFileName" placeholder="e.g. main.py">
                </div>
                <div class="mb-3">
                    <label for="newFilePath" class="form-label">Location (optional)</label>
                    <input type="text" class="form-control" id="newFilePath" placeholder="e.g. /static/js">
                </div>
                <div class="mb-3">
                    <label for="newFileType" class="form-label">File Type</label>
                    <select class="form-select" id="newFileType">
                        <option value="python">Python (.py)</option>
                        <option value="javascript">JavaScript (.js)</option>
                        <option value="html">HTML (.html)</option>
                        <option value="css">CSS (.css)</option>
                        <option value="json">JSON (.json)</option>
                        <option value="markdown">Markdown (.md)</option>
                        <option value="text">Text (.txt)</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" id="createFileBtn">Create File</button>
            </div>
        </div>
    </div>
</div>

<!-- New Folder Modal -->
<div class="modal fade" id="newFolderModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content bg-dark">
            <div class="modal-header">
                <h5 class="modal-title">Create New Folder</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label for="newFolderName" class="form-label">Folder Name</label>
                    <input type="text" class="form-control" id="newFolderName" placeholder="e.g. utils">
                </div>
                <div class="mb-3">
                    <label for="newFolderPath" class="form-label">Location (optional)</label>
                    <input type="text" class="form-control" id="newFolderPath" placeholder="e.g. /static">
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" id="createFolderBtn">Create Folder</button>
            </div>
        </div>
    </div>
</div>

<!-- New Project Modal -->
<div class="modal fade" id="newProjectModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content bg-dark">
            <div class="modal-header">
                <h5 class="modal-title">Create New Project</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label for="projectDescription" class="form-label">Project Description</label>
                    <textarea class="form-control" id="projectDescription" rows="3" placeholder="Describe what you want to build..."></textarea>
                </div>
                <div class="mb-3">
                    <label class="form-label">Preferences</label>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="prefPythonFramework" checked>
                        <label class="form-check-label" for="prefPythonFramework">
                            Use Flask for Python web apps
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="prefDatabase" checked>
                        <label class="form-check-label" for="prefDatabase">
                            Include database setup
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="prefTesting">
                        <label class="form-check-label" for="prefTesting">
                            Include testing
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="prefDocumentation">
                        <label class="form-check-label" for="prefDocumentation">
                            Include documentation
                        </label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" id="startProjectBtn">Start Project</button>
            </div>
        </div>
    </div>
</div>

<!-- Feedback Modal -->
<div class="modal fade" id="feedbackModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content bg-dark">
            <div class="modal-header">
                <h5 class="modal-title">Agent Feedback</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div id="feedbackContent">
                    <!-- Content will be dynamically added here -->
                </div>
                <div id="feedbackResponseContainer" class="mt-3">
                    <label for="feedbackResponse" class="form-label">Your Response</label>
                    <textarea class="form-control" id="feedbackResponse" rows="3" placeholder="Provide your feedback here..."></textarea>
                </div>
            </div>
            <div class="modal-footer" id="feedbackModalActions">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary">Submit Feedback</button>
            </div>
        </div>
    </div>
</div>