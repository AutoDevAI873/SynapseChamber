<!-- Dock Component for Synapse Chamber -->
<div class="dock-container" id="dockContainer">
  <div class="dock-header">
    <h5>Dock</h5>
    <button class="btn btn-sm btn-outline-secondary" id="dockCollapseBtn">
      <i class="fas fa-chevron-left"></i>
    </button>
  </div>
  
  <div class="dock-tabs">
    <ul class="nav nav-tabs" id="dockTabs" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="files-tab" data-bs-toggle="tab" data-bs-target="#files" type="button" role="tab">
          <i class="fas fa-folder"></i> Files
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="tools-tab" data-bs-toggle="tab" data-bs-target="#tools" type="button" role="tab">
          <i class="fas fa-tools"></i> Tools
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="agent-tab" data-bs-toggle="tab" data-bs-target="#agent" type="button" role="tab">
          <i class="fas fa-robot"></i> Agent
        </button>
      </li>
    </ul>
  </div>
  
  <div class="tab-content" id="dockTabContent">
    <!-- Files Tab -->
    <div class="tab-pane fade show active" id="files" role="tabpanel">
      <div class="dock-search mb-2">
        <div class="input-group input-group-sm">
          <input type="text" class="form-control" placeholder="Search files..." id="fileSearchInput">
          <button class="btn btn-outline-secondary" type="button" id="fileSearchBtn">
            <i class="fas fa-search"></i>
          </button>
        </div>
      </div>
      
      <div class="file-browser" id="fileBrowser">
        <div class="tree-view" id="fileTree">
          <!-- Will be populated dynamically with JS -->
          <div class="loading-indicator">
            <div class="spinner-border spinner-border-sm text-primary" role="status"></div>
            <span>Loading files...</span>
          </div>
        </div>
      </div>
      
      <div class="dock-actions mt-2">
        <button class="btn btn-sm btn-outline-primary" id="newFileBtn">
          <i class="fas fa-file"></i> New File
        </button>
        <button class="btn btn-sm btn-outline-primary" id="newFolderBtn">
          <i class="fas fa-folder-plus"></i> New Folder
        </button>
      </div>
    </div>
    
    <!-- Tools Tab -->
    <div class="tab-pane fade" id="tools" role="tabpanel">
      <div class="tools-list">
        <div class="tool-category">
          <h6>Development</h6>
          <div class="tool-item" data-tool="code-editor">
            <i class="fas fa-code"></i>
            <span>Code Editor</span>
          </div>
          <div class="tool-item" data-tool="terminal">
            <i class="fas fa-terminal"></i>
            <span>Terminal</span>
          </div>
          <div class="tool-item" data-tool="debug">
            <i class="fas fa-bug"></i>
            <span>Debugger</span>
          </div>
        </div>
        
        <div class="tool-category">
          <h6>AI Training</h6>
          <div class="tool-item" data-tool="training-session">
            <i class="fas fa-chalkboard-teacher"></i>
            <span>Training Session</span>
          </div>
          <div class="tool-item" data-tool="memory-explorer">
            <i class="fas fa-brain"></i>
            <span>Memory Explorer</span>
          </div>
          <div class="tool-item" data-tool="platform-manager">
            <i class="fas fa-project-diagram"></i>
            <span>Platform Manager</span>
          </div>
        </div>
        
        <div class="tool-category">
          <h6>Analysis</h6>
          <div class="tool-item" data-tool="analytics">
            <i class="fas fa-chart-line"></i>
            <span>Analytics</span>
          </div>
          <div class="tool-item" data-tool="logs">
            <i class="fas fa-list"></i>
            <span>Logs</span>
          </div>
          <div class="tool-item" data-tool="performance">
            <i class="fas fa-tachometer-alt"></i>
            <span>Performance</span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Agent Tab -->
    <div class="tab-pane fade" id="agent" role="tabpanel">
      <div class="agent-status mb-3">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <h6 class="mb-0">Agent Status</h6>
          <span class="badge bg-success" id="agentStatusBadge">Active</span>
        </div>
        <div class="progress bg-dark">
          <div class="progress-bar bg-primary" role="progressbar" style="width: 45%" id="agentProgressBar"></div>
        </div>
        <small class="text-muted" id="agentStatusText">Working on project: Setup</small>
      </div>
      
      <div class="agent-actions mb-3">
        <button class="btn btn-sm btn-primary" id="newProjectBtn">
          <i class="fas fa-plus"></i> New Project
        </button>
        <button class="btn btn-sm btn-outline-secondary" id="continueProjectBtn">
          <i class="fas fa-play"></i> Continue
        </button>
        <button class="btn btn-sm btn-outline-secondary" id="pauseAgentBtn">
          <i class="fas fa-pause"></i> Pause
        </button>
      </div>
      
      <div class="agent-feedback" id="agentFeedback">
        <h6>Feedback Requested</h6>
        <div class="feedback-message" id="feedbackMessage">
          No pending feedback requests.
        </div>
        <div class="feedback-actions mt-2" id="feedbackActions" style="display: none;">
          <button class="btn btn-sm btn-success" id="acceptFeedbackBtn">Accept</button>
          <button class="btn btn-sm btn-danger" id="rejectFeedbackBtn">Reject</button>
          <button class="btn btn-sm btn-secondary" id="modifyFeedbackBtn">Modify</button>
        </div>
      </div>
      
      <div class="agent-projects mt-3">
        <h6>Recent Projects</h6>
        <div class="list-group list-group-flush list-group-small" id="recentProjectsList">
          <!-- Will be populated dynamically with JS -->
          <div class="list-group-item">
            <div class="d-flex justify-content-between align-items-center">
              <span class="text-truncate">Web Dashboard</span>
              <span class="badge bg-primary">70%</span>
            </div>
          </div>
          <div class="list-group-item">
            <div class="d-flex justify-content-between align-items-center">
              <span class="text-truncate">API Integration</span>
              <span class="badge bg-success">100%</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <div class="dock-footer">
    <div class="dock-status">
      <small><i class="fas fa-circle text-success"></i> Connected</small>
    </div>
  </div>
</div>

<!-- Dock Toggle Button (visible when dock is collapsed) -->
<div class="dock-toggle-btn" id="dockToggleBtn" style="display: none;">
  <button class="btn btn-sm btn-dark">
    <i class="fas fa-chevron-right"></i>
  </button>
</div>

<!-- New File Modal -->
<div class="modal fade" id="newFileModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content bg-dark">
      <div class="modal-header">
        <h5 class="modal-title">Create New File</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="mb-3">
          <label for="newFileName" class="form-label">File Name</label>
          <input type="text" class="form-control bg-dark text-light" id="newFileName" placeholder="example.py">
        </div>
        <div class="mb-3">
          <label for="newFilePath" class="form-label">Path</label>
          <input type="text" class="form-control bg-dark text-light" id="newFilePath" placeholder="/">
        </div>
        <div class="mb-3">
          <label for="newFileType" class="form-label">File Type</label>
          <select class="form-select bg-dark text-light" id="newFileType">
            <option value="python">Python (.py)</option>
            <option value="html">HTML (.html)</option>
            <option value="css">CSS (.css)</option>
            <option value="javascript">JavaScript (.js)</option>
            <option value="json">JSON (.json)</option>
            <option value="text">Text (.txt)</option>
            <option value="markdown">Markdown (.md)</option>
          </select>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary" id="createFileBtn">Create File</button>
      </div>
    </div>
  </div>
</div>

<!-- New Folder Modal -->
<div class="modal fade" id="newFolderModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content bg-dark">
      <div class="modal-header">
        <h5 class="modal-title">Create New Folder</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="mb-3">
          <label for="newFolderName" class="form-label">Folder Name</label>
          <input type="text" class="form-control bg-dark text-light" id="newFolderName" placeholder="new_folder">
        </div>
        <div class="mb-3">
          <label for="newFolderPath" class="form-label">Path</label>
          <input type="text" class="form-control bg-dark text-light" id="newFolderPath" placeholder="/">
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary" id="createFolderBtn">Create Folder</button>
      </div>
    </div>
  </div>
</div>

<!-- New Project Modal -->
<div class="modal fade" id="newProjectModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content bg-dark">
      <div class="modal-header">
        <h5 class="modal-title">Create New Project</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="mb-3">
          <label for="projectDescription" class="form-label">Project Description</label>
          <textarea class="form-control bg-dark text-light" id="projectDescription" rows="4" placeholder="Describe what you want to build..."></textarea>
        </div>
        <div class="mb-3">
          <label class="form-label">Preferences</label>
          <div class="form-check form-switch mb-2">
            <input class="form-check-input" type="checkbox" id="prefPythonFramework">
            <label class="form-check-label" for="prefPythonFramework">Use Flask framework</label>
          </div>
          <div class="form-check form-switch mb-2">
            <input class="form-check-input" type="checkbox" id="prefDatabase">
            <label class="form-check-label" for="prefDatabase">Include database (SQLAlchemy)</label>
          </div>
          <div class="form-check form-switch mb-2">
            <input class="form-check-input" type="checkbox" id="prefTesting">
            <label class="form-check-label" for="prefTesting">Include testing setup</label>
          </div>
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="prefDocumentation">
            <label class="form-check-label" for="prefDocumentation">Include documentation</label>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary" id="startProjectBtn">Create Project</button>
      </div>
    </div>
  </div>
</div>

<!-- Feedback Modal -->
<div class="modal fade" id="feedbackModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content bg-dark">
      <div class="modal-header">
        <h5 class="modal-title">Agent Feedback</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="feedback-content mb-3" id="feedbackContent">
          <!-- Will be populated dynamically with JS -->
        </div>
        <div class="mb-3" id="feedbackResponseContainer" style="display: none;">
          <label for="feedbackResponse" class="form-label">Your Response</label>
          <textarea class="form-control bg-dark text-light" id="feedbackResponse" rows="4"></textarea>
        </div>
      </div>
      <div class="modal-footer" id="feedbackModalActions">
        <!-- Will be populated dynamically with JS -->
      </div>
    </div>
  </div>
</div>